{"remainingRequest":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/babel-loader/lib/index.js!/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/moritzmurauer/dev/ap/abschluss-pruefung/src/views/posts/PostDetails.vue?vue&type=template&id=5f9a4f7c","dependencies":[{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/src/views/posts/PostDetails.vue","mtime":1616193873172},{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHZNb2RlbFRleHQgYXMgX3ZNb2RlbFRleHQsIHdpdGhEaXJlY3RpdmVzIGFzIF93aXRoRGlyZWN0aXZlcywgd2l0aE1vZGlmaWVycyBhcyBfd2l0aE1vZGlmaWVycywgRnJhZ21lbnQgYXMgX0ZyYWdtZW50IH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZXJyb3IiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGtleTogMSwKICBjbGFzczogInBsYXlsaXN0LWRldGFpbHMiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAicGxheWxpc3QtaW5mbyIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJjb3ZlciIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAga2V5OiAwCn07CnZhciBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAidXNlcm5hbWUiCn07CnZhciBfaG9pc3RlZF83ID0gewogIGtleTogMAp9OwoKdmFyIF9ob2lzdGVkXzggPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJsYWJlbCIsIHsKICBmb3I6ICJ0aXRsZSIKfSwgIkVkaXQgdGl0bGUiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfOSA9IHsKICBrZXk6IDEKfTsKCnZhciBfaG9pc3RlZF8xMCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImxhYmVsIiwgewogIGZvcjogImRlc2NyaXB0aW9uIgp9LCAiRWRpdCBpbmZvIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzExID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgbnVsbCwgInBvd2VyIiwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzEyID0gewogIGtleTogMiwKICBjbGFzczogImRlc2NyaXB0aW9uIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIFskc2V0dXAuZXJyb3IgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLmVycm9yKSwgMQogIC8qIFRFWFQgKi8KICApKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJHNldHVwLnBvc3QgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlQ29tbWVudFZOb2RlKCIgcGxheWxpc3QgaW5mb3JtYXRpb24gIiksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVWTm9kZSgiaW1nIiwgewogICAgc3JjOiAkc2V0dXAucG9zdC5jb3ZlclVybAogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJzcmMiXSldKSwgISRzZXR1cC5lZGl0TW9kZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNSwgW19jcmVhdGVWTm9kZSgiaDIiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5wb3N0LnRpdGxlKSwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlVk5vZGUoInAiLCBfaG9pc3RlZF82LCAiQ3JlYXRlZCBieSAiICsgX3RvRGlzcGxheVN0cmluZygkc2V0dXAucG9zdC51c2VyTmFtZSksIDEKICAvKiBURVhUICovCiAgKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJHNldHVwLmVkaXRNb2RlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJmb3JtIiwgewogICAga2V5OiAxLAogICAgY2xhc3M6ICJtdC0zIG1iLTgiLAogICAgb25TdWJtaXQ6IF9jYWNoZVszXSB8fCAoX2NhY2hlWzNdID0gX3dpdGhNb2RpZmllcnMoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJHNldHVwLmhhbmRsZVN1Ym1pdC5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9LCBbInByZXZlbnQiXSkpCiAgfSwgWyRzZXR1cC5wb3N0ID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF83LCBbX2hvaXN0ZWRfOCwgX3dpdGhEaXJlY3RpdmVzKF9jcmVhdGVWTm9kZSgiaW5wdXQiLCB7CiAgICB0eXBlOiAidGV4dGFyZWEiLAogICAgcmVxdWlyZWQ6ICIiLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5wb3N0LnRpdGxlID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgW1tfdk1vZGVsVGV4dCwgJHNldHVwLnBvc3QudGl0bGVdXSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksICRzZXR1cC5wb3N0ID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF85LCBbX2hvaXN0ZWRfMTAsIF93aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgdHlwZTogInRleHRhcmVhIiwKICAgIHJlcXVpcmVkOiAiIiwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAucG9zdC5kZXNjcmlwdGlvbiA9ICRldmVudDsKICAgIH0pCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5wb3N0LmRlc2NyaXB0aW9uXV0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCBfaG9pc3RlZF8xMV0sIDMyCiAgLyogSFlEUkFURV9FVkVOVFMgKi8KICApKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgISRzZXR1cC5lZGl0TW9kZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygicCIsIF9ob2lzdGVkXzEyLCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5wb3N0LmRlc2NyaXB0aW9uKSwgMQogIC8qIFRFWFQgKi8KICApKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJHNldHVwLnVzZXIgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImJ1dHRvbiIsIHsKICAgIGtleTogMywKICAgIG9uQ2xpY2s6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gJHNldHVwLmhhbmRsZURlbGV0ZS5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sICJEZWxldGUgUG9zdCIpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJHNldHVwLnVzZXIgJiYgISRzZXR1cC5lZGl0TW9kZSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiYnV0dG9uIiwgewogICAga2V5OiA0LAogICAgb25DbGljazogX2NhY2hlWzVdIHx8IChfY2FjaGVbNV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuaGFuZGxlRm9ybS5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9KQogIH0sICJFZGl0IikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["/Users/moritzmurauer/dev/ap/abschluss-pruefung/src/views/posts/PostDetails.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"error\" v-if=\"error\">{{ error }}</div>\n  <div v-if=\"post\" class=\"playlist-details\">\n\n    <!-- playlist information -->\n    <div class=\"playlist-info\">\n      <div class=\"cover\">\n        <img :src=\"post.coverUrl\">\n      </div>\n\n    <div v-if=\"!editMode\">\n      <h2>{{ post.title }}</h2>\n      <p class=\"username\">Created by {{ post.userName }}</p>\n    </div>\n\n      <form v-if=\"editMode\" class=\"mt-3 mb-8\" @submit.prevent=\"handleSubmit\">\n        <div v-if=\"post\">\n          <label for=\"title\">Edit title</label>\n          <input type=\"textarea\" required v-model=\"post.title\">\n        </div>\n\n\n        <div v-if=\"post\">\n          <label for=\"description\">Edit info</label>\n          <input type=\"textarea\" required v-model=\"post.description\">\n        </div>\n\n        <button>power</button>\n      </form>\n\n\n      <p v-if=\"!editMode\" class=\"description\">{{ post.description }}</p>\n      <button v-if=\"user\" @click=\"handleDelete\">Delete Post</button>\n      <button v-if=\"user && !editMode\" @click=\"handleForm\">Edit</button>\n\n      \n\n\n    </div>\n\n    \n    \n  </div>\n</template>\n\n<script>\n\nimport useStorage from '@/composables/useStorage'\nimport useDocument from '@/composables/useDocument'\nimport getDocument from '@/composables/getDocument'\nimport getUser from '@/composables/getUser'\nimport { computed, ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport default {\n  props: ['id'],\n  setup(props) {\n    const { error, document: post } = getDocument('posts', props.id)\n    const { user } = getUser()\n    const { deleteDoc, updateDoc } = useDocument('posts', props.id)\n    const { deleteImage } = useStorage()\n    const editMode = ref(false);\n    const router = useRouter()\n\n\n    const handleDelete = async () => {\n      router.push({ name: 'Home' })\n      await deleteDoc()\n      await deleteImage(post.value.filePath)\n    }\n\n    const handleSubmit = async () => {\n      const res =  await updateDoc({\n        title: post.value.title,\n        description: post.value.description\n        })\n      editMode.value = false\n    }\n\n    const handleForm = async () => {\n      editMode.value = true\n    }\n\n    return { error, post, handleDelete, handleForm, handleSubmit, editMode, user }\n  }\n}\n</script>\n\n<style>\n  .playlist-details {\n    display: grid;\n    grid-template-columns: 1fr 2fr;\n    gap: 80px;\n  }\n  .cover {\n    overflow: hidden;\n    border-radius: 20px;\n    position: relative;\n    padding: 160px;\n  }\n  .cover img {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    min-width: 100%;\n    min-height: 100%;\n    max-width: 200%;\n    max-height: 200%;\n  }\n  .playlist-info {\n    text-align: center;\n  }\n  .playlist-info h2 {\n    text-transform: capitalize;\n    font-size: 28px;\n    margin-top: 20px;\n  }\n  .playlist-info p {\n    margin-bottom: 20px;\n  }\n  .username {\n    color: #999;\n  }\n  .description {\n    text-align: left;\n  }\n  .single-song {\n    padding: 10px 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px dashed var(--secondary);\n    margin-bottom: 20px;\n  }\n</style>"],"sourceRoot":""}]}