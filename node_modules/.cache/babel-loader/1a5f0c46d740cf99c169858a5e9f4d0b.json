{"remainingRequest":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/babel-loader/lib/index.js!/Users/moritzmurauer/dev/ap/abschluss-pruefung/src/composables/useCollection.js","dependencies":[{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/src/composables/useCollection.js","mtime":1606756817000},{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21vcml0em11cmF1ZXIvZGV2L2FwL2Fic2NobHVzcy1wcnVlZnVuZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHByb2plY3RGaXJlc3RvcmUgfSBmcm9tICcuLi9maXJlYmFzZS9jb25maWcnOwoKdmFyIHVzZUNvbGxlY3Rpb24gPSBmdW5jdGlvbiB1c2VDb2xsZWN0aW9uKGNvbGxlY3Rpb24pIHsKICB2YXIgZXJyb3IgPSByZWYobnVsbCk7CiAgdmFyIGlzUGVuZGluZyA9IHJlZihmYWxzZSk7IC8vIGFkZCBhIG5ldyBkb2N1bWVudAoKICB2YXIgYWRkRG9jID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKGRvYykgewogICAgICB2YXIgcmVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZXJyb3IudmFsdWUgPSBudWxsOwogICAgICAgICAgICAgIGlzUGVuZGluZy52YWx1ZSA9IHRydWU7CiAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDI7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHByb2plY3RGaXJlc3RvcmUuY29sbGVjdGlvbihjb2xsZWN0aW9uKS5hZGQoZG9jKTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlzUGVuZGluZy52YWx1ZSA9IGZhbHNlOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlcyk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMDsKICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDIpOwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKF9jb250ZXh0LnQwLm1lc3NhZ2UpOwogICAgICAgICAgICAgIGVycm9yLnZhbHVlID0gJ2NvdWxkIG5vdCBzZW5kIHRoZSBtZXNzYWdlJzsKICAgICAgICAgICAgICBpc1BlbmRpbmcudmFsdWUgPSBmYWxzZTsKCiAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMiwgMTBdXSk7CiAgICB9KSk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIGFkZERvYyhfeCkgewogICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9KCk7CgogIHJldHVybiB7CiAgICBlcnJvcjogZXJyb3IsCiAgICBhZGREb2M6IGFkZERvYywKICAgIGlzUGVuZGluZzogaXNQZW5kaW5nCiAgfTsKfTsKCmV4cG9ydCBkZWZhdWx0IHVzZUNvbGxlY3Rpb247"},{"version":3,"sources":["/Users/moritzmurauer/dev/ap/abschluss-pruefung/src/composables/useCollection.js"],"names":["ref","projectFirestore","useCollection","collection","error","isPending","addDoc","doc","value","add","res","console","log","message"],"mappings":";;AAAA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,UAAD,EAAgB;AAEpC,MAAMC,KAAK,GAAGJ,GAAG,CAAC,IAAD,CAAjB;AACA,MAAMK,SAAS,GAAGL,GAAG,CAAC,KAAD,CAArB,CAHoC,CAKpC;;AACA,MAAMM,MAAM;AAAA,uEAAG,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACbH,cAAAA,KAAK,CAACI,KAAN,GAAc,IAAd;AACAH,cAAAA,SAAS,CAACG,KAAV,GAAkB,IAAlB;AAFa;AAAA;AAAA,qBAKOP,gBAAgB,CAACE,UAAjB,CAA4BA,UAA5B,EAAwCM,GAAxC,CAA4CF,GAA5C,CALP;;AAAA;AAKLG,cAAAA,GALK;AAMXL,cAAAA,SAAS,CAACG,KAAV,GAAkB,KAAlB;AANW,+CAOJE,GAPI;;AAAA;AAAA;AAAA;AAUXC,cAAAA,OAAO,CAACC,GAAR,CAAY,YAAIC,OAAhB;AACAT,cAAAA,KAAK,CAACI,KAAN,GAAc,4BAAd;AACAH,cAAAA,SAAS,CAACG,KAAV,GAAkB,KAAlB;;AAZW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAANF,MAAM;AAAA;AAAA;AAAA,KAAZ;;AAgBA,SAAO;AAAEF,IAAAA,KAAK,EAALA,KAAF;AAASE,IAAAA,MAAM,EAANA,MAAT;AAAiBD,IAAAA,SAAS,EAATA;AAAjB,GAAP;AAED,CAxBD;;AA0BA,eAAeH,aAAf","sourcesContent":["import { ref } from 'vue'\nimport { projectFirestore } from '../firebase/config'\n\nconst useCollection = (collection) => {\n\n  const error = ref(null)\n  const isPending = ref(false)\n\n  // add a new document\n  const addDoc = async (doc) => {\n    error.value = null\n    isPending.value = true\n\n    try {\n      const res = await projectFirestore.collection(collection).add(doc)\n      isPending.value = false\n      return res\n    }\n    catch(err) {\n      console.log(err.message)\n      error.value = 'could not send the message'\n      isPending.value = false\n    }\n  }\n\n  return { error, addDoc, isPending }\n\n}\n\nexport default useCollection"]}]}