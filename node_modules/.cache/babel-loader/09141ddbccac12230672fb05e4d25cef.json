{"remainingRequest":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/babel-loader/lib/index.js!/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/moritzmurauer/dev/ap/muso-ninjas/src/views/playlists/PlaylistDetails.vue?vue&type=template&id=2c93a5d0","dependencies":[{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/src/views/playlists/PlaylistDetails.vue","mtime":1606756817000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0IHsgdG9EaXNwbGF5U3RyaW5nIGFzIF90b0Rpc3BsYXlTdHJpbmcsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlbmRlckxpc3QgYXMgX3JlbmRlckxpc3QsIEZyYWdtZW50IGFzIF9GcmFnbWVudCwgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogIGtleTogMCwKICBjbGFzczogImVycm9yIgp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBrZXk6IDEsCiAgY2xhc3M6ICJwbGF5bGlzdC1kZXRhaWxzIgp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogInBsYXlsaXN0LWluZm8iCn07CnZhciBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAiY292ZXIiCn07CnZhciBfaG9pc3RlZF81ID0gewogIGNsYXNzOiAidXNlcm5hbWUiCn07CnZhciBfaG9pc3RlZF82ID0gewogIGNsYXNzOiAiZGVzY3JpcHRpb24iCn07CnZhciBfaG9pc3RlZF83ID0gewogIGNsYXNzOiAic29uZy1saXN0Igp9Owp2YXIgX2hvaXN0ZWRfOCA9IHsKICBrZXk6IDAKfTsKdmFyIF9ob2lzdGVkXzkgPSB7CiAgY2xhc3M6ICJkZXRhaWxzIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X0FkZFNvbmcgPSBfcmVzb2x2ZUNvbXBvbmVudCgiQWRkU29uZyIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBbJHNldHVwLmVycm9yID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xLCBfdG9EaXNwbGF5U3RyaW5nKCRzZXR1cC5lcnJvciksIDEKICAvKiBURVhUICovCiAgKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksICRzZXR1cC5wbGF5bGlzdCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVDb21tZW50Vk5vZGUoIiBwbGF5bGlzdCBpbmZvcm1hdGlvbiAiKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZVZOb2RlKCJpbWciLCB7CiAgICBzcmM6ICRzZXR1cC5wbGF5bGlzdC5jb3ZlclVybAogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJzcmMiXSldKSwgX2NyZWF0ZVZOb2RlKCJoMiIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnBsYXlsaXN0LnRpdGxlKSwgMQogIC8qIFRFWFQgKi8KICApLCBfY3JlYXRlVk5vZGUoInAiLCBfaG9pc3RlZF81LCAiQ3JlYXRlZCBieSAiICsgX3RvRGlzcGxheVN0cmluZygkc2V0dXAucGxheWxpc3QudXNlck5hbWUpLCAxCiAgLyogVEVYVCAqLwogICksIF9jcmVhdGVWTm9kZSgicCIsIF9ob2lzdGVkXzYsIF90b0Rpc3BsYXlTdHJpbmcoJHNldHVwLnBsYXlsaXN0LmRlc2NyaXB0aW9uKSwgMQogIC8qIFRFWFQgKi8KICApLCAkc2V0dXAub3duZXJzaGlwID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJidXR0b24iLCB7CiAgICBrZXk6IDAsCiAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICRzZXR1cC5oYW5kbGVEZWxldGUuYXBwbHkoJHNldHVwLCBhcmd1bWVudHMpOwogICAgfSkKICB9LCAiRGVsZXRlIFBsYXlsaXN0IikpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiBzb25nIGxpc3QgIiksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNywgWyEkc2V0dXAucGxheWxpc3Quc29uZ3MubGVuZ3RoID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF84LCAiTm8gc29uZ3MgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoaXMgcGxheWxpc3QgeWV0LiIpKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgKF9vcGVuQmxvY2sodHJ1ZSksIF9jcmVhdGVCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRzZXR1cC5wbGF5bGlzdC5zb25ncywgZnVuY3Rpb24gKHNvbmcpIHsKICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgewogICAgICBrZXk6IHNvbmcuaWQsCiAgICAgIGNsYXNzOiAic2luZ2xlLXNvbmciCiAgICB9LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF85LCBbX2NyZWF0ZVZOb2RlKCJoMyIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoc29uZy50aXRsZSksIDEKICAgIC8qIFRFWFQgKi8KICAgICksIF9jcmVhdGVWTm9kZSgicCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoc29uZy5hcnRpc3QpLCAxCiAgICAvKiBURVhUICovCiAgICApXSksICRzZXR1cC5vd25lcnNoaXAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImJ1dHRvbiIsIHsKICAgICAga2V5OiAwLAogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgIHJldHVybiAkc2V0dXAuaGFuZGxlQ2xpY2soc29uZy5pZCk7CiAgICAgIH0KICAgIH0sICJkZWxldGUiLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbIm9uQ2xpY2siXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSk7CiAgfSksIDEyOAogIC8qIEtFWUVEX0ZSQUdNRU5UICovCiAgKSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X0FkZFNvbmcsIHsKICAgIHBsYXlsaXN0OiAkc2V0dXAucGxheWxpc3QKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsicGxheWxpc3QiXSldKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0sIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKTsKfQ=="},{"version":3,"sources":["/Users/moritzmurauer/dev/ap/muso-ninjas/src/views/playlists/PlaylistDetails.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"error\" v-if=\"error\">{{ error }}</div>\n  <div v-if=\"playlist\" class=\"playlist-details\">\n\n    <!-- playlist information -->\n    <div class=\"playlist-info\">\n      <div class=\"cover\">\n        <img :src=\"playlist.coverUrl\">\n      </div>\n      <h2>{{ playlist.title }}</h2>\n      <p class=\"username\">Created by {{ playlist.userName }}</p>\n      <p class=\"description\">{{ playlist.description }}</p>\n      <button v-if=\"ownership\" @click=\"handleDelete\">Delete Playlist</button>\n    </div>\n\n    <!-- song list -->\n    <div class=\"song-list\">\n      <div v-if=\"!playlist.songs.length\">No songs have been added to this playlist yet.</div>\n      <div v-for=\"song in playlist.songs\" :key=\"song.id\" class=\"single-song\">\n        <div class=\"details\">\n          <h3>{{ song.title }}</h3>\n          <p>{{ song.artist }}</p>\n        </div>\n        <button v-if=\"ownership\" @click=\"handleClick(song.id)\">delete</button>\n      </div>\n      <AddSong :playlist=\"playlist\" />\n    </div>\n    \n  </div>\n</template>\n\n<script>\n// challenge\n//   - attach a click handler to the delete (song) button called handleClick\n//   - inside the function, use the updateDoc function to delete that song\n//   - you'll need to pass the song id into the handleClick function\n//   - HINT: use the filter method\n\nimport AddSong from '@/components/AddSong.vue'\nimport useStorage from '@/composables/useStorage'\nimport useDocument from '@/composables/useDocument'\nimport getDocument from '@/composables/getDocument'\nimport getUser from '@/composables/getUser'\nimport { computed } from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport default {\n  props: ['id'],\n  components: { AddSong },\n  setup(props) {\n    const { error, document: playlist } = getDocument('playlists', props.id)\n    const { user } = getUser()\n    const { deleteDoc, updateDoc } = useDocument('playlists', props.id)\n    const { deleteImage } = useStorage()\n    const router = useRouter()\n\n    const ownership = computed(() => {\n      return playlist.value \n        && user.value \n        && user.value.uid == playlist.value.userId\n    })\n\n    const handleDelete = async () => {\n      await deleteDoc()\n      await deleteImage(playlist.value.filePath)\n      router.push({ name: 'Home' })\n    }\n\n    const handleClick = async (id) => {\n      const songs = playlist.value.songs.filter((song) => song.id != id)\n      await updateDoc({ songs })\n    }\n\n    return { error, playlist, ownership, handleDelete, handleClick }\n  }\n}\n</script>\n\n<style>\n  .playlist-details {\n    display: grid;\n    grid-template-columns: 1fr 2fr;\n    gap: 80px;\n  }\n  .cover {\n    overflow: hidden;\n    border-radius: 20px;\n    position: relative;\n    padding: 160px;\n  }\n  .cover img {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    min-width: 100%;\n    min-height: 100%;\n    max-width: 200%;\n    max-height: 200%;\n  }\n  .playlist-info {\n    text-align: center;\n  }\n  .playlist-info h2 {\n    text-transform: capitalize;\n    font-size: 28px;\n    margin-top: 20px;\n  }\n  .playlist-info p {\n    margin-bottom: 20px;\n  }\n  .username {\n    color: #999;\n  }\n  .description {\n    text-align: left;\n  }\n  .single-song {\n    padding: 10px 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px dashed var(--secondary);\n    margin-bottom: 20px;\n  }\n</style>"],"sourceRoot":""}]}