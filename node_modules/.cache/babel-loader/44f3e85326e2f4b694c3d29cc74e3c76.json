{"remainingRequest":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/babel-loader/lib/index.js!/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/moritzmurauer/dev/ap/abschluss-pruefung/src/components/AddSong.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/src/components/AddSong.vue","mtime":1616191004468},{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/abschluss-pruefung/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbW9yaXR6bXVyYXVlci9kZXYvYXAvYWJzY2hsdXNzLXBydWVmdW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tb3JpdHptdXJhdWVyL2Rldi9hcC9hYnNjaGx1c3MtcHJ1ZWZ1bmcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgdXNlRG9jdW1lbnQgZnJvbSAnLi4vY29tcG9zYWJsZXMvdXNlRG9jdW1lbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsncGxheWxpc3QnXSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMpIHsKICAgIHZhciB0aXRsZSA9IHJlZignJyk7CiAgICB2YXIgYXJ0aXN0ID0gcmVmKCcnKTsKICAgIHZhciBzaG93Rm9ybSA9IHJlZihmYWxzZSk7CgogICAgdmFyIF91c2VEb2N1bWVudCA9IHVzZURvY3VtZW50KCdwbGF5bGlzdHMnLCBwcm9wcy5wbGF5bGlzdC5pZCksCiAgICAgICAgdXBkYXRlRG9jID0gX3VzZURvY3VtZW50LnVwZGF0ZURvYzsKCiAgICB2YXIgaGFuZGxlU3VibWl0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIG5ld1NvbmcsIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXdTb25nID0gewogICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUudmFsdWUsCiAgICAgICAgICAgICAgICAgIGFydGlzdDogYXJ0aXN0LnZhbHVlLAogICAgICAgICAgICAgICAgICBpZDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwMCkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiB1cGRhdGVEb2MoewogICAgICAgICAgICAgICAgICBzb25nczogW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShwcm9wcy5wbGF5bGlzdC5zb25ncyksIFtuZXdTb25nXSkKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdGl0bGUudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgIGFydGlzdC52YWx1ZSA9ICcnOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdCgpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiB0aXRsZSwKICAgICAgYXJ0aXN0OiBhcnRpc3QsCiAgICAgIHNob3dGb3JtOiBzaG93Rm9ybSwKICAgICAgaGFuZGxlU3VibWl0OiBoYW5kbGVTdWJtaXQKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/Users/moritzmurauer/dev/ap/abschluss-pruefung/src/components/AddSong.vue"],"names":[],"mappings":";;;;AAaA,SAAS,GAAT,QAAoB,KAApB;AACA,OAAO,WAAP,MAAwB,4BAAxB;AAEA,eAAe;AACb,EAAA,KAAK,EAAE,CAAC,UAAD,CADM;AAEb,EAAA,KAFa,iBAEP,KAFO,EAEA;AACX,QAAM,KAAI,GAAI,GAAG,CAAC,EAAD,CAAjB;AACA,QAAM,MAAK,GAAI,GAAG,CAAC,EAAD,CAAlB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,KAAD,CAApB;;AAHW,uBAIW,WAAW,CAAC,WAAD,EAAc,KAAK,CAAC,QAAN,CAAe,EAA7B,CAJtB;AAAA,QAIH,SAJG,gBAIH,SAJG;;AAMX,QAAM,YAAW;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,gBAAA,OADa,GACH;AACd,kBAAA,KAAK,EAAE,KAAK,CAAC,KADC;AAEd,kBAAA,MAAM,EAAE,MAAM,CAAC,KAFD;AAGd,kBAAA,EAAE,EAAE,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,OAA3B;AAHU,iBADG;AAAA;AAAA,uBAMD,SAAS,CAAC;AAC1B,kBAAA,KAAK,+BAAM,KAAK,CAAC,QAAN,CAAe,KAArB,IAA4B,OAA5B;AADqB,iBAAD,CANR;;AAAA;AAMb,gBAAA,GANa;AASnB,gBAAA,KAAK,CAAC,KAAN,GAAc,EAAd;AACA,gBAAA,MAAM,CAAC,KAAP,GAAe,EAAf;;AAVmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAX,YAAW;AAAA;AAAA;AAAA,OAAjB;;AAaA,WAAO;AAAE,MAAA,KAAK,EAAL,KAAF;AAAS,MAAA,MAAM,EAAN,MAAT;AAAiB,MAAA,QAAQ,EAAR,QAAjB;AAA2B,MAAA,YAAW,EAAX;AAA3B,KAAP;AACF;AAtBa,CAAf","sourcesContent":["<template>\n  <div class=\"add-song\">\n    <button v-if=\"!showForm\" @click=\"showForm = true\">Add Songs</button>\n    <form v-if=\"showForm\" @submit.prevent=\"handleSubmit\">\n      <h4>Add a New Song</h4>\n      <input type=\"text\" placeholder=\"Song title\" required v-model=\"title\">\n      <input type=\"text\" placeholder=\"Artist\" required v-model=\"artist\">\n      <button>Add</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport useDocument from '../composables/useDocument'\n\nexport default {\n  props: ['playlist'],\n  setup(props) {\n    const title = ref('')\n    const artist = ref('')\n    const showForm = ref(false)\n    const { updateDoc } = useDocument('playlists', props.playlist.id)\n\n    const handleSubmit = async () => {\n      const newSong = {\n        title: title.value,\n        artist: artist.value,\n        id: Math.floor(Math.random() * 1000000)\n      }\n      const res = await updateDoc({\n        songs: [...props.playlist.songs, newSong]\n      })\n      title.value = ''\n      artist.value = ''\n    }\n\n    return { title, artist, showForm, handleSubmit }\n  }\n}\n</script>\n\n<style scoped>\n  .add-song {\n    text-align: center;\n    margin-top: 40px;\n  }\n  form {\n    max-width: 100%;\n    text-align: left;\n  }\n</style>"],"sourceRoot":""}]}