{"remainingRequest":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/babel-loader/lib/index.js!/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/moritzmurauer/dev/ap/muso-ninjas/src/components/AddSong.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/src/components/AddSong.vue","mtime":1606756817000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvbW9yaXR6bXVyYXVlci9kZXYvYXAvbXVzby1uaW5qYXMvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL21vcml0em11cmF1ZXIvZGV2L2FwL211c28tbmluamFzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IHVzZURvY3VtZW50IGZyb20gJy4uL2NvbXBvc2FibGVzL3VzZURvY3VtZW50JzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ3BsYXlsaXN0J10sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzKSB7CiAgICB2YXIgdGl0bGUgPSByZWYoJycpOwogICAgdmFyIGFydGlzdCA9IHJlZignJyk7CiAgICB2YXIgc2hvd0Zvcm0gPSByZWYoZmFsc2UpOwoKICAgIHZhciBfdXNlRG9jdW1lbnQgPSB1c2VEb2N1bWVudCgncGxheWxpc3RzJywgcHJvcHMucGxheWxpc3QuaWQpLAogICAgICAgIHVwZGF0ZURvYyA9IF91c2VEb2N1bWVudC51cGRhdGVEb2M7CgogICAgdmFyIGhhbmRsZVN1Ym1pdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBuZXdTb25nLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgbmV3U29uZyA9IHsKICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLnZhbHVlLAogICAgICAgICAgICAgICAgICBhcnRpc3Q6IGFydGlzdC52YWx1ZSwKICAgICAgICAgICAgICAgICAgaWQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlRG9jKHsKICAgICAgICAgICAgICAgICAgc29uZ3M6IFtdLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocHJvcHMucGxheWxpc3Quc29uZ3MpLCBbbmV3U29uZ10pCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIHRpdGxlLnZhbHVlID0gJyc7CiAgICAgICAgICAgICAgICBhcnRpc3QudmFsdWUgPSAnJzsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfTsKICAgIH0oKTsKCiAgICByZXR1cm4gewogICAgICB0aXRsZTogdGl0bGUsCiAgICAgIGFydGlzdDogYXJ0aXN0LAogICAgICBzaG93Rm9ybTogc2hvd0Zvcm0sCiAgICAgIGhhbmRsZVN1Ym1pdDogaGFuZGxlU3VibWl0CiAgICB9OwogIH0KfTs="},{"version":3,"sources":["/Users/moritzmurauer/dev/ap/muso-ninjas/src/components/AddSong.vue"],"names":[],"mappings":";;;;AAaA,SAAS,GAAT,QAAoB,KAApB;AACA,OAAO,WAAP,MAAwB,4BAAxB;AAEA,eAAe;AACb,EAAA,KAAK,EAAE,CAAC,UAAD,CADM;AAEb,EAAA,KAFa,iBAEP,KAFO,EAEA;AACX,QAAM,KAAI,GAAI,GAAG,CAAC,EAAD,CAAjB;AACA,QAAM,MAAK,GAAI,GAAG,CAAC,EAAD,CAAlB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC,KAAD,CAApB;;AAHW,uBAIW,WAAW,CAAC,WAAD,EAAc,KAAK,CAAC,QAAN,CAAe,EAA7B,CAJtB;AAAA,QAIH,SAJG,gBAIH,SAJG;;AAMX,QAAM,YAAW;AAAA,yEAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AACb,gBAAA,OADa,GACH;AACd,kBAAA,KAAK,EAAE,KAAK,CAAC,KADC;AAEd,kBAAA,MAAM,EAAE,MAAM,CAAC,KAFD;AAGd,kBAAA,EAAE,EAAE,IAAI,CAAC,KAAL,CAAW,IAAI,CAAC,MAAL,KAAgB,OAA3B;AAHU,iBADG;AAAA;AAAA,uBAMD,SAAS,CAAC;AAC1B,kBAAA,KAAK,+BAAM,KAAK,CAAC,QAAN,CAAe,KAArB,IAA4B,OAA5B;AADqB,iBAAD,CANR;;AAAA;AAMb,gBAAA,GANa;AASnB,gBAAA,KAAK,CAAC,KAAN,GAAc,EAAd;AACA,gBAAA,MAAM,CAAC,KAAP,GAAe,EAAf;;AAVmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAJ;;AAAA,sBAAX,YAAW;AAAA;AAAA;AAAA,OAAjB;;AAaA,WAAO;AAAE,MAAA,KAAK,EAAL,KAAF;AAAS,MAAA,MAAM,EAAN,MAAT;AAAiB,MAAA,QAAQ,EAAR,QAAjB;AAA2B,MAAA,YAAW,EAAX;AAA3B,KAAP;AACF;AAtBa,CAAf","sourcesContent":["<template>\n  <div class=\"add-song\">\n    <button v-if=\"!showForm\" @click=\"showForm = true\">Add Songs</button>\n    <form v-if=\"showForm\" @submit.prevent=\"handleSubmit\">\n      <h4>Add a New Song</h4>\n      <input type=\"text\" placeholder=\"Song title\" required v-model=\"title\">\n      <input type=\"text\" placeholder=\"Artist\" required v-model=\"artist\">\n      <button>Add</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport useDocument from '../composables/useDocument'\n\nexport default {\n  props: ['playlist'],\n  setup(props) {\n    const title = ref('')\n    const artist = ref('')\n    const showForm = ref(false)\n    const { updateDoc } = useDocument('playlists', props.playlist.id)\n\n    const handleSubmit = async () => {\n      const newSong = {\n        title: title.value,\n        artist: artist.value,\n        id: Math.floor(Math.random() * 1000000)\n      }\n      const res = await updateDoc({\n        songs: [...props.playlist.songs, newSong]\n      })\n      title.value = ''\n      artist.value = ''\n    }\n\n    return { title, artist, showForm, handleSubmit }\n  }\n}\n</script>\n\n<style scoped>\n  .add-song {\n    text-align: center;\n    margin-top: 40px;\n  }\n  form {\n    max-width: 100%;\n    text-align: left;\n  }\n</style>"],"sourceRoot":""}]}