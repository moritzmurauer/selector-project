{"remainingRequest":"/Users/moritzmurauer/dev/selector/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/moritzmurauer/dev/selector/src/views/posts/PostDetails.vue?vue&type=template&id=5f9a4f7c&scoped=true","dependencies":[{"path":"/Users/moritzmurauer/dev/selector/src/views/posts/PostDetails.vue","mtime":1672891195685},{"path":"/Users/moritzmurauer/dev/selector/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/selector/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/selector/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/selector/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/selector/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iY29udGVudCI+CiAgICA8ZGl2IGNsYXNzPSJlcnJvciIgdi1pZj0iZXJyb3IiPnt7IGVycm9yIH19PC9kaXY+CiAgICA8ZGl2IHYtaWY9InBvc3QiIGNsYXNzPSJwb3N0LWRldGFpbHMgbXQtMTIiPgogICAgICA8IS0tIHBvc3QgaW5mb3JtYXRpb24gLS0+CiAgICAgIDxkaXYgY2xhc3M9InBvc3QtaW5mbyI+CiAgICAgICAgPGRpdiBjbGFzcz0iY292ZXIiPgogICAgICAgICAgPGltZyA6c3JjPSJwb3N0LmNvdmVyVXJsIiAvPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4KICAgICAgPGRpdj4KICAgICAgICA8IS0tIHN0YW5kYXJkIHZpZXcgLS0+CiAgICAgICAgPGRpdiB2LWlmPSIhZWRpdE1vZGUiPgogICAgICAgICAgPGgyPnt7IHBvc3QudGl0bGUgfX08L2gyPgogICAgICAgICAgPHAgY2xhc3M9InVzZXJuYW1lIj5DcmVhdGVkIGJ5IHt7IHBvc3QudXNlck5hbWUgfX08L3A+CiAgICAgICAgPC9kaXY+CgogICAgICAgIDwhLS0gZWRpdCB2aWV3IC0tPgogICAgICAgIDxmb3JtIHYtaWY9ImVkaXRNb2RlIiBjbGFzcz0ibXQtMyBtYi04IiBAc3VibWl0LnByZXZlbnQ9ImhhbmRsZVN1Ym1pdCI+CiAgICAgICAgICA8ZGl2IHYtaWY9InBvc3QiPgogICAgICAgICAgICA8bGFiZWwgZm9yPSJ0aXRsZSI+RWRpdCB0aXRsZTwvbGFiZWw+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0YXJlYSIgcmVxdWlyZWQgdi1tb2RlbD0icG9zdC50aXRsZSIgLz4KICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgIDxkaXYgdi1pZj0icG9zdCI+CiAgICAgICAgICAgIDxsYWJlbCBmb3I9ImRlc2NyaXB0aW9uIj5FZGl0IGluZm88L2xhYmVsPgogICAgICAgICAgICA8aW5wdXQKICAgICAgICAgICAgICBjbGFzcz0idGV4dGFyZWEtaW5wdXQiCiAgICAgICAgICAgICAgdHlwZT0idGV4dGFyZWEiCiAgICAgICAgICAgICAgcmVxdWlyZWQKICAgICAgICAgICAgICB2LW1vZGVsPSJwb3N0LmRlc2NyaXB0aW9uIgogICAgICAgICAgICAvPgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgPGJ1dHRvbj5TdWJtaXQ8L2J1dHRvbj4KICAgICAgICA8L2Zvcm0+CgogICAgICAgIDwhLS0gZGVsZXRlIG9yIGVkaXQgY29udHJvbCBwYW5lbCAtLT4KICAgICAgICA8cCB2LWlmPSIhZWRpdE1vZGUiIGNsYXNzPSJkZXNjcmlwdGlvbiI+e3sgcG9zdC5kZXNjcmlwdGlvbiB9fTwvcD4KICAgICAgICA8YnV0dG9uIGNsYXNzPSJkZWxldGUtYnV0dG9uIiB2LWlmPSJ1c2VyIiBAY2xpY2s9ImhhbmRsZURlbGV0ZSI+CiAgICAgICAgICBEZWxldGUgUG9zdAogICAgICAgIDwvYnV0dG9uPgogICAgICAgIDxidXR0b24KICAgICAgICAgIGNsYXNzPSJlZGl0LWJ1dHRvbiIKICAgICAgICAgIHYtaWY9InVzZXIgJiYgIWVkaXRNb2RlIgogICAgICAgICAgQGNsaWNrPSJoYW5kbGVGb3JtIgogICAgICAgID4KICAgICAgICAgIEVkaXQKICAgICAgICA8L2J1dHRvbj4KCiAgICAgICAgPHAgY2xhc3M9ImJhZGdlLWVkaXQiIHYtaWY9ImNoYW5nZWRQb3N0Ij5Qb3N0IGdvdCBlZGl0ZWQ8L3A+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/moritzmurauer/dev/selector/src/views/posts/PostDetails.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACzC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACxB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;QAC7B,CAAC,CAAC,CAAC,CAAC,CAAC;MACP,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC;QACF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACnB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACxB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACpE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACpC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;UACxD,CAAC,CAAC,CAAC,CAAC,CAAC;;UAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACzC,CAAC,CAAC,CAAC,CAAC,CAAC;cACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3B,CAAC;UACH,CAAC,CAAC,CAAC,CAAC,CAAC;;UAEL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAEN,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;QACpC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC7D,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACvB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpB;UACE,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAER,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC7D,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/moritzmurauer/dev/selector/src/views/posts/PostDetails.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"content\">\n    <div class=\"error\" v-if=\"error\">{{ error }}</div>\n    <div v-if=\"post\" class=\"post-details mt-12\">\n      <!-- post information -->\n      <div class=\"post-info\">\n        <div class=\"cover\">\n          <img :src=\"post.coverUrl\" />\n        </div>\n      </div>\n      <div>\n        <!-- standard view -->\n        <div v-if=\"!editMode\">\n          <h2>{{ post.title }}</h2>\n          <p class=\"username\">Created by {{ post.userName }}</p>\n        </div>\n\n        <!-- edit view -->\n        <form v-if=\"editMode\" class=\"mt-3 mb-8\" @submit.prevent=\"handleSubmit\">\n          <div v-if=\"post\">\n            <label for=\"title\">Edit title</label>\n            <input type=\"textarea\" required v-model=\"post.title\" />\n          </div>\n\n          <div v-if=\"post\">\n            <label for=\"description\">Edit info</label>\n            <input\n              class=\"textarea-input\"\n              type=\"textarea\"\n              required\n              v-model=\"post.description\"\n            />\n          </div>\n\n          <button>Submit</button>\n        </form>\n\n        <!-- delete or edit control panel -->\n        <p v-if=\"!editMode\" class=\"description\">{{ post.description }}</p>\n        <button class=\"delete-button\" v-if=\"user\" @click=\"handleDelete\">\n          Delete Post\n        </button>\n        <button\n          class=\"edit-button\"\n          v-if=\"user && !editMode\"\n          @click=\"handleForm\"\n        >\n          Edit\n        </button>\n\n        <p class=\"badge-edit\" v-if=\"changedPost\">Post got edited</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navbar from \"@/components/Navbar.vue\";\nimport useStorage from \"@/composables/useStorage\";\nimport useDocument from \"@/composables/useDocument\";\nimport getDocument from \"@/composables/getDocument\";\nimport getUser from \"@/composables/getUser\";\nimport { ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\n\nexport default {\n  components: { Navbar },\n  props: [\"id\"],\n  setup(props) {\n    // getting document with id\n    const { error, document: post } = getDocument(\"posts\", props.id);\n    const { user } = getUser();\n    const { deleteDoc, updateDoc } = useDocument(\"posts\", props.id);\n    const { deleteImage } = useStorage();\n    const editMode = ref(false);\n    const router = useRouter();\n\n    const changedPost = ref(false);\n\n    // deleting a post\n    const handleDelete = async () => {\n      router.push({ name: \"Home\" });\n      await deleteDoc();\n      await deleteImage(post.value.filePath);\n    };\n\n    // updating a post with feedback\n    const handleSubmit = async () => {\n      changedPost.value = true;\n      const res = await updateDoc({\n        title: post.value.title,\n        description: post.value.description,\n      });\n      editMode.value = false;\n      setTimeout(() => {\n        changedPost.value = false;\n      }, 3000);\n    };\n\n    // opens edit container\n    const handleForm = async () => {\n      editMode.value = true;\n    };\n\n    return {\n      error,\n      post,\n      handleDelete,\n      handleForm,\n      handleSubmit,\n      editMode,\n      user,\n      changedPost,\n    };\n  },\n};\n</script>\n\n<style scoped>\n.post-details {\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  gap: 80px;\n}\n.cover {\n  overflow: hidden;\n  border-radius: 20px;\n  position: relative;\n  padding: 220px;\n}\n.cover img {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 100%;\n  min-height: 100%;\n  max-width: 100%;\n  height: auto;\n}\n\n.badge-edit {\n  display: table;\n  padding: 5px 10px;\n  background: rgba(0, 177, 9, 0.315);\n  margin-top: 2rem !important;\n  color: rgb(34, 56, 0);\n  margin: 0 auto;\n  transition: all ease 0.4s;\n}\n\n.post-info h2 {\n  text-transform: capitalize;\n  font-size: 28px;\n  margin-top: 20px;\n}\n.post-info p {\n  margin: 20px 0;\n}\n.username {\n  color: #999;\n}\n.description {\n  text-align: left;\n  margin-top: 20px;\n}\n\n.delete-button {\n  margin-right: 1rem;\n  background: rgb(255, 105, 105);\n}\n\n.edit-button {\n  background: rgb(255, 245, 105);\n  color: var(--primary);\n}\n\n@media only screen and (max-width: 1000px) {\n  .post-details {\n    display: block;\n  }\n}\n</style>\n"]}]}