{"remainingRequest":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/moritzmurauer/dev/ap/muso-ninjas/src/views/playlists/PlaylistDetails.vue?vue&type=template&id=2c93a5d0","dependencies":[{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/src/views/playlists/PlaylistDetails.vue","mtime":1606756817000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/moritzmurauer/dev/ap/muso-ninjas/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iZXJyb3IiIHYtaWY9ImVycm9yIj57eyBlcnJvciB9fTwvZGl2PgogIDxkaXYgdi1pZj0icGxheWxpc3QiIGNsYXNzPSJwbGF5bGlzdC1kZXRhaWxzIj4KCiAgICA8IS0tIHBsYXlsaXN0IGluZm9ybWF0aW9uIC0tPgogICAgPGRpdiBjbGFzcz0icGxheWxpc3QtaW5mbyI+CiAgICAgIDxkaXYgY2xhc3M9ImNvdmVyIj4KICAgICAgICA8aW1nIDpzcmM9InBsYXlsaXN0LmNvdmVyVXJsIj4KICAgICAgPC9kaXY+CiAgICAgIDxoMj57eyBwbGF5bGlzdC50aXRsZSB9fTwvaDI+CiAgICAgIDxwIGNsYXNzPSJ1c2VybmFtZSI+Q3JlYXRlZCBieSB7eyBwbGF5bGlzdC51c2VyTmFtZSB9fTwvcD4KICAgICAgPHAgY2xhc3M9ImRlc2NyaXB0aW9uIj57eyBwbGF5bGlzdC5kZXNjcmlwdGlvbiB9fTwvcD4KICAgICAgPGJ1dHRvbiB2LWlmPSJvd25lcnNoaXAiIEBjbGljaz0iaGFuZGxlRGVsZXRlIj5EZWxldGUgUGxheWxpc3Q8L2J1dHRvbj4KICAgIDwvZGl2PgoKICAgIDwhLS0gc29uZyBsaXN0IC0tPgogICAgPGRpdiBjbGFzcz0ic29uZy1saXN0Ij4KICAgICAgPGRpdiB2LWlmPSIhcGxheWxpc3Quc29uZ3MubGVuZ3RoIj5ObyBzb25ncyBoYXZlIGJlZW4gYWRkZWQgdG8gdGhpcyBwbGF5bGlzdCB5ZXQuPC9kaXY+CiAgICAgIDxkaXYgdi1mb3I9InNvbmcgaW4gcGxheWxpc3Quc29uZ3MiIDprZXk9InNvbmcuaWQiIGNsYXNzPSJzaW5nbGUtc29uZyI+CiAgICAgICAgPGRpdiBjbGFzcz0iZGV0YWlscyI+CiAgICAgICAgICA8aDM+e3sgc29uZy50aXRsZSB9fTwvaDM+CiAgICAgICAgICA8cD57eyBzb25nLmFydGlzdCB9fTwvcD4KICAgICAgICA8L2Rpdj4KICAgICAgICA8YnV0dG9uIHYtaWY9Im93bmVyc2hpcCIgQGNsaWNrPSJoYW5kbGVDbGljayhzb25nLmlkKSI+ZGVsZXRlPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8QWRkU29uZyA6cGxheWxpc3Q9InBsYXlsaXN0IiAvPgogICAgPC9kaXY+CiAgICAKICA8L2Rpdj4K"},{"version":3,"sources":["/Users/moritzmurauer/dev/ap/muso-ninjas/src/views/playlists/PlaylistDetails.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAChD,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAE3C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACxB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC/B,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACzD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACpD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxE,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACtF,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACxB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACvE,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACjC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/moritzmurauer/dev/ap/muso-ninjas/src/views/playlists/PlaylistDetails.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"error\" v-if=\"error\">{{ error }}</div>\n  <div v-if=\"playlist\" class=\"playlist-details\">\n\n    <!-- playlist information -->\n    <div class=\"playlist-info\">\n      <div class=\"cover\">\n        <img :src=\"playlist.coverUrl\">\n      </div>\n      <h2>{{ playlist.title }}</h2>\n      <p class=\"username\">Created by {{ playlist.userName }}</p>\n      <p class=\"description\">{{ playlist.description }}</p>\n      <button v-if=\"ownership\" @click=\"handleDelete\">Delete Playlist</button>\n    </div>\n\n    <!-- song list -->\n    <div class=\"song-list\">\n      <div v-if=\"!playlist.songs.length\">No songs have been added to this playlist yet.</div>\n      <div v-for=\"song in playlist.songs\" :key=\"song.id\" class=\"single-song\">\n        <div class=\"details\">\n          <h3>{{ song.title }}</h3>\n          <p>{{ song.artist }}</p>\n        </div>\n        <button v-if=\"ownership\" @click=\"handleClick(song.id)\">delete</button>\n      </div>\n      <AddSong :playlist=\"playlist\" />\n    </div>\n    \n  </div>\n</template>\n\n<script>\n// challenge\n//   - attach a click handler to the delete (song) button called handleClick\n//   - inside the function, use the updateDoc function to delete that song\n//   - you'll need to pass the song id into the handleClick function\n//   - HINT: use the filter method\n\nimport AddSong from '@/components/AddSong.vue'\nimport useStorage from '@/composables/useStorage'\nimport useDocument from '@/composables/useDocument'\nimport getDocument from '@/composables/getDocument'\nimport getUser from '@/composables/getUser'\nimport { computed } from 'vue'\nimport { useRouter } from 'vue-router'\n\nexport default {\n  props: ['id'],\n  components: { AddSong },\n  setup(props) {\n    const { error, document: playlist } = getDocument('playlists', props.id)\n    const { user } = getUser()\n    const { deleteDoc, updateDoc } = useDocument('playlists', props.id)\n    const { deleteImage } = useStorage()\n    const router = useRouter()\n\n    const ownership = computed(() => {\n      return playlist.value \n        && user.value \n        && user.value.uid == playlist.value.userId\n    })\n\n    const handleDelete = async () => {\n      await deleteDoc()\n      await deleteImage(playlist.value.filePath)\n      router.push({ name: 'Home' })\n    }\n\n    const handleClick = async (id) => {\n      const songs = playlist.value.songs.filter((song) => song.id != id)\n      await updateDoc({ songs })\n    }\n\n    return { error, playlist, ownership, handleDelete, handleClick }\n  }\n}\n</script>\n\n<style>\n  .playlist-details {\n    display: grid;\n    grid-template-columns: 1fr 2fr;\n    gap: 80px;\n  }\n  .cover {\n    overflow: hidden;\n    border-radius: 20px;\n    position: relative;\n    padding: 160px;\n  }\n  .cover img {\n    display: block;\n    position: absolute;\n    top: 0;\n    left: 0;\n    min-width: 100%;\n    min-height: 100%;\n    max-width: 200%;\n    max-height: 200%;\n  }\n  .playlist-info {\n    text-align: center;\n  }\n  .playlist-info h2 {\n    text-transform: capitalize;\n    font-size: 28px;\n    margin-top: 20px;\n  }\n  .playlist-info p {\n    margin-bottom: 20px;\n  }\n  .username {\n    color: #999;\n  }\n  .description {\n    text-align: left;\n  }\n  .single-song {\n    padding: 10px 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-bottom: 1px dashed var(--secondary);\n    margin-bottom: 20px;\n  }\n</style>"]}]}